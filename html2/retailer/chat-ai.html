<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Assistant - ChainSync AI</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Top Navbar -->
        <nav class="top-navbar">
            <button class="hamburger-btn" onclick="toggleSidebar()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <div class="navbar-brand">
                <h2>ü§ñ AI Assistant</h2>
            </div>
            <button class="nav-action-btn" onclick="clearChat()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3 6 5 6 21 6"></polyline>
                    <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                </svg>
            </button>
        </nav>

        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-profile">
                <div class="profile-avatar">üë§</div>
                <div class="profile-info">
                    <h3>Retailer Name</h3>
                    <p>Premium Member</p>
                </div>
            </div>

            <nav class="sidebar-nav">
                <a href="retailer-dashboard.html" class="sidebar-nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    <span>Dashboard</span>
                </a>
                <a href="inventory.html" class="sidebar-nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                    </svg>
                    <span>Inventory</span>
                </a>
                <a href="orders.html" class="sidebar-nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                    <span>Orders</span>
                </a>
                <a href="ai-insights.html" class="sidebar-nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5"></path>
                        <path d="M2 12l10 5 10-5"></path>
                    </svg>
                    <span>AI Insights</span>
                </a>
                <a href="finance.html" class="sidebar-nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"></line>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                    </svg>
                    <span>Finance</span>
                </a>
                <a href="chat-ai.html" class="sidebar-nav-item active">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                    <span>AI Chat</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Quick Action Chips -->
            <div class="chat-quick-actions">
                <button class="quick-action-chip" onclick="sendQuickQuery('insight')">
                    <span class="chip-icon">üîç</span>
                    <span class="chip-text">Show low stock items</span>
                </button>
                <button class="quick-action-chip" onclick="sendQuickQuery('action')">
                    <span class="chip-icon">üõçÔ∏è</span>
                    <span class="chip-text">Create order</span>
                </button>
                <button class="quick-action-chip" onclick="sendQuickQuery('finance')">
                    <span class="chip-icon">üí∏</span>
                    <span class="chip-text">Loan eligibility</span>
                </button>
                <button class="quick-action-chip" onclick="sendQuickQuery('analytics')">
                    <span class="chip-icon">üìà</span>
                    <span class="chip-text">Slow-moving items</span>
                </button>
            </div>

            <!-- Chat Messages Container -->
            <div class="chat-messages" id="chatMessages">
                <!-- Welcome Message -->
                <div class="chat-message ai-message">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Hello! I'm ChainSync AI, your intelligent retail assistant. How can I help you today?</p>
                            <div class="message-suggestions">
                                <button class="suggestion-btn" onclick="askQuestion('Show low stock items')">üì¶ Low stock items</button>
                                <button class="suggestion-btn" onclick="askQuestion('Am I eligible for a loan?')">üí∞ Loan eligibility</button>
                                <button class="suggestion-btn" onclick="askQuestion('Show top 5 slow-moving items')">üìä Slow movers</button>
                            </div>
                        </div>
                        <span class="message-time">Just now</span>
                    </div>
                </div>

                <!-- Example: User Query - Insight -->
                <div class="chat-message user-message">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Show low stock items</p>
                        </div>
                        <span class="message-time">2:34 PM</span>
                    </div>
                    <div class="message-avatar">üë§</div>
                </div>

                <!-- Example: AI Response - Insight -->
                <div class="chat-message ai-message">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <div class="message-type-badge insight">üîç Insight</div>
                            <p><strong>Found 3 items with low stock:</strong></p>
                            <div class="chat-card">
                                <div class="chat-card-item">
                                    <span class="item-emoji">ü•§</span>
                                    <div class="item-info">
                                        <strong>Coca Cola 500ml</strong>
                                        <span class="stock-warning">Only 12 units left</span>
                                    </div>
                                    <span class="item-action">‚ö†Ô∏è</span>
                                </div>
                                <div class="chat-card-item">
                                    <span class="item-emoji">üç´</span>
                                    <div class="item-info">
                                        <strong>KitKat Chocolate</strong>
                                        <span class="stock-warning">Only 8 units left</span>
                                    </div>
                                    <span class="item-action">‚ö†Ô∏è</span>
                                </div>
                                <div class="chat-card-item">
                                    <span class="item-emoji">üíß</span>
                                    <div class="item-info">
                                        <strong>Mum Water 1L</strong>
                                        <span class="stock-warning">Only 15 units left</span>
                                    </div>
                                    <span class="item-action">‚ö†Ô∏è</span>
                                </div>
                            </div>
                            <button class="chat-action-btn">üîÑ Restock All</button>
                        </div>
                        <span class="message-time">2:34 PM</span>
                    </div>
                </div>

                <!-- Example: User Query - Action -->
                <div class="chat-message user-message">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Create an order for last week's items</p>
                        </div>
                        <span class="message-time">2:36 PM</span>
                    </div>
                    <div class="message-avatar">üë§</div>
                </div>

                <!-- Example: AI Response - Action -->
                <div class="chat-message ai-message">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <div class="message-type-badge action">üõçÔ∏è Action</div>
                            <p><strong>Order draft created!</strong></p>
                            <div class="chat-card">
                                <div class="order-summary">
                                    <div class="summary-row">
                                        <span>üì¶ Items:</span>
                                        <strong>8 products</strong>
                                    </div>
                                    <div class="summary-row">
                                        <span>üí∞ Total:</span>
                                        <strong>‡ß≥12,450</strong>
                                    </div>
                                    <div class="summary-row">
                                        <span>üìÖ Delivery:</span>
                                        <strong>Nov 10, 2025</strong>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-action-group">
                                <button class="chat-action-btn primary">‚úÖ Confirm Order</button>
                                <button class="chat-action-btn secondary">üëÅÔ∏è Review</button>
                            </div>
                        </div>
                        <span class="message-time">2:36 PM</span>
                    </div>
                </div>

                <!-- Example: User Query - Financial -->
                <div class="chat-message user-message">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Am I eligible for a loan?</p>
                        </div>
                        <span class="message-time">2:38 PM</span>
                    </div>
                    <div class="message-avatar">üë§</div>
                </div>

                <!-- Example: AI Response - Financial -->
                <div class="chat-message ai-message">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <div class="message-type-badge financial">üí∏ Financial</div>
                            <p><strong>Yes! You're eligible for a loan.</strong></p>
                            <div class="chat-card financial-card">
                                <div class="financial-highlight">
                                    <span class="highlight-label">Eligible Amount</span>
                                    <h3 class="highlight-value">‡ß≥40,000</h3>
                                </div>
                                <div class="eligibility-factors">
                                    <div class="factor-item">
                                        <span class="factor-icon">‚úÖ</span>
                                        <span>Monthly sales: ‡ß≥1,85,000</span>
                                    </div>
                                    <div class="factor-item">
                                        <span class="factor-icon">‚úÖ</span>
                                        <span>Business age: 8 months</span>
                                    </div>
                                    <div class="factor-item">
                                        <span class="factor-icon">‚úÖ</span>
                                        <span>Payment history: Excellent</span>
                                    </div>
                                </div>
                            </div>
                            <button class="chat-action-btn">üìã View Loan Options</button>
                        </div>
                        <span class="message-time">2:38 PM</span>
                    </div>
                </div>

                <!-- Example: User Query - Analytics -->
                <div class="chat-message user-message">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Show top 5 slow-moving items</p>
                        </div>
                        <span class="message-time">2:40 PM</span>
                    </div>
                    <div class="message-avatar">üë§</div>
                </div>

                <!-- Example: AI Response - Analytics -->
                <div class="chat-message ai-message">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <div class="message-type-badge analytics">üìà Analytics</div>
                            <p><strong>Here are your top 5 slow-moving items:</strong></p>
                            <div class="chat-card">
                                <div class="analytics-item">
                                    <div class="analytics-rank">1</div>
                                    <div class="analytics-info">
                                        <strong>Energy Drink 250ml</strong>
                                        <div class="analytics-stats">
                                            <span>üìâ 2 sold/week</span>
                                            <span>üì¶ Stock: 45 units</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="analytics-item">
                                    <div class="analytics-rank">2</div>
                                    <div class="analytics-info">
                                        <strong>Premium Biscuits</strong>
                                        <div class="analytics-stats">
                                            <span>üìâ 3 sold/week</span>
                                            <span>üì¶ Stock: 38 units</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="analytics-item">
                                    <div class="analytics-rank">3</div>
                                    <div class="analytics-info">
                                        <strong>Juice Box 200ml</strong>
                                        <div class="analytics-stats">
                                            <span>üìâ 4 sold/week</span>
                                            <span>üì¶ Stock: 30 units</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="analytics-item">
                                    <div class="analytics-rank">4</div>
                                    <div class="analytics-info">
                                        <strong>Instant Noodles Cup</strong>
                                        <div class="analytics-stats">
                                            <span>üìâ 5 sold/week</span>
                                            <span>üì¶ Stock: 28 units</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="analytics-item">
                                    <div class="analytics-rank">5</div>
                                    <div class="analytics-info">
                                        <strong>Cookies Pack</strong>
                                        <div class="analytics-stats">
                                            <span>üìâ 6 sold/week</span>
                                            <span>üì¶ Stock: 25 units</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="ai-recommendation">üí° <em>Consider discounting these items to clear stock faster.</em></p>
                        </div>
                        <span class="message-time">2:40 PM</span>
                    </div>
                </div>
            </div>

            <!-- Chat Input Area -->
            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <button class="voice-input-btn" onclick="toggleVoiceInput()" id="voiceBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                    </button>
                    <input 
                        type="text" 
                        class="chat-input" 
                        id="chatInput"
                        placeholder="Ask ChainSync AI anything..."
                        onkeypress="handleKeyPress(event)"
                    />
                    <button class="send-btn" onclick="sendMessage()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </div>
                
                <!-- Voice Input Indicator -->
                <div class="voice-indicator hidden" id="voiceIndicator">
                    <div class="voice-animation">
                        <span class="voice-wave"></span>
                        <span class="voice-wave"></span>
                        <span class="voice-wave"></span>
                        <span class="voice-wave"></span>
                    </div>
                    <p class="voice-text">üéôÔ∏è Listening... Tap to stop</p>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item" onclick="window.location.href='retailer-dashboard.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span class="nav-label">Home</span>
            </button>
            <button class="nav-item" onclick="window.location.href='orders.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 11l3 3L22 4"></path>
                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                </svg>
                <span class="nav-label">Orders</span>
            </button>
            <button class="nav-item" onclick="window.location.href='inventory.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                </svg>
                <span class="nav-label">Inventory</span>
            </button>
            <button class="nav-item" onclick="window.location.href='ai.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                    <path d="M2 17l10 5 10-5"></path>
                    <path d="M2 12l10 5 10-5"></path>
                </svg>
                <span class="nav-label">AI</span>
            </button>
            <button class="nav-item" onclick="window.location.href='profile.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span class="nav-label">Profile</span>
            </button>
        </nav>
    </div>

    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            sidebar.classList.toggle('show');
            overlay.classList.toggle('show');
        }

        function clearChat() {
            if (confirm('Are you sure you want to clear all chat messages?')) {
                // Clear chat logic
                alert('Chat cleared!');
            }
        }

        function sendQuickQuery(type) {
            const queries = {
                insight: 'Show low stock items',
                action: 'Create an order for last week\'s items',
                finance: 'Am I eligible for a loan?',
                analytics: 'Show top 5 slow-moving items'
            };
            askQuestion(queries[type]);
        }

        function askQuestion(question) {
            const input = document.getElementById('chatInput');
            input.value = question;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                // Add user message to chat
                addUserMessage(message);
                input.value = '';
                
                // Simulate AI response after a short delay
                setTimeout(() => {
                    addAIResponse(message);
                }, 1000);
            }
        }

        function addUserMessage(text) {
            const chatMessages = document.getElementById('chatMessages');
            const time = new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            
            const messageHTML = `
                <div class="chat-message user-message">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>${text}</p>
                        </div>
                        <span class="message-time">${time}</span>
                    </div>
                    <div class="message-avatar">üë§</div>
                </div>
            `;
            
            chatMessages.insertAdjacentHTML('beforeend', messageHTML);
            scrollToBottom();
        }

        function addAIResponse(query) {
            const chatMessages = document.getElementById('chatMessages');
            const time = new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            
            const responseHTML = `
                <div class="chat-message ai-message">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>I've processed your request: "${query}"</p>
                            <p class="ai-recommendation">üí° <em>I'm analyzing your data and will provide detailed insights shortly.</em></p>
                        </div>
                        <span class="message-time">${time}</span>
                    </div>
                </div>
            `;
            
            chatMessages.insertAdjacentHTML('beforeend', responseHTML);
            scrollToBottom();
        }

        function scrollToBottom() {
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        let isVoiceActive = false;

        function toggleVoiceInput() {
            const voiceBtn = document.getElementById('voiceBtn');
            const voiceIndicator = document.getElementById('voiceIndicator');
            const chatInput = document.getElementById('chatInput');
            
            isVoiceActive = !isVoiceActive;
            
            if (isVoiceActive) {
                voiceBtn.classList.add('active');
                voiceIndicator.classList.remove('hidden');
                chatInput.placeholder = 'Listening...';
                
                // Simulate voice recognition (in production, use Web Speech API)
                setTimeout(() => {
                    toggleVoiceInput();
                    chatInput.value = 'Show low stock items';
                }, 3000);
            } else {
                voiceBtn.classList.remove('active');
                voiceIndicator.classList.add('hidden');
                chatInput.placeholder = 'Ask ChainSync AI anything...';
            }
        }

        // Auto-scroll to bottom on page load
        window.onload = function() {
            scrollToBottom();
        };
    </script>
</body>
</html>
