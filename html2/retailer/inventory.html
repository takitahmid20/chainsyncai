<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Management - ChainSync AI</title>
    <link rel="stylesheet" href="inventory-custom.css">
</head>
<body>
    <div class="app-container">
        <!-- Top Navbar -->
        <nav class="top-navbar">
            <button class="hamburger-btn" onclick="toggleSidebar()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <div class="navbar-brand">
                <h2>Inventory</h2>
            </div>
            <div class="navbar-actions">
                <button class="nav-action-btn notification-btn" onclick="showNotifications()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span class="notification-badge">3</span>
                </button>
                <button class="nav-action-btn avatar-btn" onclick="openProfile()">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%236366f1'/%3E%3Ctext x='16' y='21' text-anchor='middle' fill='white' font-size='14' font-weight='bold'%3EA%3C/text%3E%3C/svg%3E" alt="Profile">
                </button>
            </div>
        </nav>

        <!-- Sidebar Menu -->
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-profile">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Ccircle cx='30' cy='30' r='30' fill='%236366f1'/%3E%3Ctext x='30' y='38' text-anchor='middle' fill='white' font-size='24' font-weight='bold'%3EA%3C/text%3E%3C/svg%3E" alt="Profile">
                    <div class="sidebar-user-info">
                        <h3>Arif Rahman</h3>
                        <p>arif@retailshop.com</p>
                    </div>
                </div>
                <button class="sidebar-close" onclick="toggleSidebar()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <nav class="sidebar-nav">
                <a href="retailer-dashboard.html" class="sidebar-nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    <span>Dashboard</span>
                </a>
                <a href="inventory.html" class="sidebar-nav-item active">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                        <line x1="12" y1="22.08" x2="12" y2="12"></line>
                    </svg>
                    <span>Inventory Management</span>
                </a>
                <a href="orders.html" class="sidebar-nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 11l3 3L22 4"></path>
                        <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                    </svg>
                    <span>Orders</span>
                </a>
                <a href="ai-insights.html" class="sidebar-nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5"></path>
                        <path d="M2 12l10 5 10-5"></path>
                    </svg>
                    <span>AI Insights</span>
                </a>
                <a href="finance.html" class="sidebar-nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"></line>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                    </svg>
                    <span>Finance & Loans</span>
                </a>
                <a href="customers.html" class="sidebar-nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    <span>Customers</span>
                </a>
                <a href="chat-ai.html" class="sidebar-nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                    <span>Chat AI Assistant</span>
                </a>
                <a href="reports.html" class="sidebar-nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10"></line>
                        <line x1="12" y1="20" x2="12" y2="4"></line>
                        <line x1="6" y1="20" x2="6" y2="14"></line>
                    </svg>
                    <span>Reports & Analytics</span>
                </a>
                <a href="profile.html" class="sidebar-nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m6-12v6m-6 6v6M6 7v6m6-6v6"></path>
                    </svg>
                    <span>Settings & Profile</span>
                </a>
            </nav>
        </aside>

        <!-- AI Smart Strip -->
        <div class="ai-summary-strip restock-alert" onclick="openAISuggestOrder()">
            <div class="ai-spark">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                </svg>
            </div>
            <div class="ai-text">
                <strong>AI Alert:</strong> Restock Detergent, Chips, Milk. Estimated shortage in 3 days.
            </div>
            <button class="ai-action-btn" onclick="event.stopPropagation(); openAISuggestOrder();">
                Auto Order
            </button>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Search & Filter Section -->
            <div class="inventory-header">
                <div class="search-container">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="text" class="search-input" placeholder="Search products..." id="searchInput" oninput="filterProducts()">
                </div>
                
                <div class="filter-row">
                    <select class="filter-select" id="categoryFilter" onchange="filterProducts()">
                        <option value="all">All Categories</option>
                        <option value="beverages">Beverages</option>
                        <option value="dairy">Dairy Products</option>
                        <option value="snacks">Snacks</option>
                        <option value="grocery">Grocery</option>
                        <option value="cleaning">Cleaning</option>
                    </select>
                    
                    <select class="filter-select" id="stockFilter" onchange="filterProducts()">
                        <option value="all">All Stock Status</option>
                        <option value="low">Low Stock</option>
                        <option value="good">Good Stock</option>
                        <option value="out">Out of Stock</option>
                    </select>

                    <button class="add-product-btn" onclick="openAddProductModal()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Product
                    </button>
                </div>
            </div>

            <!-- Bulk Action Bar (shows when items selected) -->
            <div class="bulk-action-bar" id="bulkActionBar">
                <div class="bulk-info">
                    <span id="selectedCount">0</span> items selected
                </div>
                <div class="bulk-actions">
                    <button class="bulk-btn" onclick="bulkOrder()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        Bulk Order
                    </button>
                    <button class="bulk-btn" onclick="clearSelection()">Clear</button>
                </div>
            </div>

            <!-- Products Grid -->
            <div class="products-grid" id="productsGrid"></div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item" onclick="window.location.href='retailer-dashboard.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span class="nav-label">Home</span>
            </button>
            <button class="nav-item" onclick="window.location.href='orders.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 11l3 3L22 4"></path>
                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                </svg>
                <span class="nav-label">Orders</span>
            </button>
            <button class="nav-item active" onclick="window.location.href='inventory.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                </svg>
                <span class="nav-label">Inventory</span>
            </button>
            <button class="nav-item" onclick="window.location.href='ai.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                    <path d="M2 17l10 5 10-5"></path>
                    <path d="M2 12l10 5 10-5"></path>
                </svg>
                <span class="nav-label">AI</span>
            </button>
            <button class="nav-item" onclick="window.location.href='profile.html'">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span class="nav-label">Profile</span>
            </button>
        </nav>

        <!-- AI Suggest Order Modal (Hidden by Default) -->
        <div class="modal-overlay" id="aiOrderModal">
            <div class="modal-container">
                <div class="modal-header">
                    <h3>ðŸ¤– AI Suggested Order</h3>
                    <button class="modal-close" onclick="closeAIOrderModal()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="ai-order-info">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 16v-4"></path>
                            <path d="M12 8h.01"></path>
                        </svg>
                        <p>Based on sales trends, these products need restocking to avoid shortage.</p>
                    </div>
                    
                    <div class="ai-order-list">
                        <div class="ai-order-item">
                            <div class="order-item-header">
                                <div class="item-name-section">
                                    <input type="checkbox" class="item-checkbox" checked>
                                    <div>
                                        <div class="item-name">Detergent Powder - 1kg</div>
                                        <div class="item-sku">SKU: DET-1001</div>
                                    </div>
                                </div>
                                <div class="urgency-badge high">High Priority</div>
                            </div>
                            <div class="order-item-details">
                                <div class="detail-row">
                                    <span>Current Stock:</span>
                                    <span class="value-red">12 units</span>
                                </div>
                                <div class="detail-row">
                                    <span>AI Suggested Qty:</span>
                                    <input type="number" value="50" class="qty-input" id="qty1">
                                </div>
                                <div class="detail-row">
                                    <span>Unit Price:</span>
                                    <span>à§³85</span>
                                </div>
                                <div class="detail-row total">
                                    <span>Subtotal:</span>
                                    <span class="value-bold">à§³4,250</span>
                                </div>
                            </div>
                            <div class="ai-reason">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                                    <polyline points="17 6 23 6 23 12"></polyline>
                                </svg>
                                Shortage in 3 days â€¢ Sells 15 units/day
                            </div>
                        </div>

                        <div class="ai-order-item">
                            <div class="order-item-header">
                                <div class="item-name-section">
                                    <input type="checkbox" class="item-checkbox" checked>
                                    <div>
                                        <div class="item-name">Potato Chips - Family Pack</div>
                                        <div class="item-sku">SKU: SNK-2045</div>
                                    </div>
                                </div>
                                <div class="urgency-badge medium">Medium</div>
                            </div>
                            <div class="order-item-details">
                                <div class="detail-row">
                                    <span>Current Stock:</span>
                                    <span class="value-orange">28 units</span>
                                </div>
                                <div class="detail-row">
                                    <span>AI Suggested Qty:</span>
                                    <input type="number" value="40" class="qty-input" id="qty2">
                                </div>
                                <div class="detail-row">
                                    <span>Unit Price:</span>
                                    <span>à§³120</span>
                                </div>
                                <div class="detail-row total">
                                    <span>Subtotal:</span>
                                    <span class="value-bold">à§³4,800</span>
                                </div>
                            </div>
                            <div class="ai-reason">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                                    <polyline points="17 6 23 6 23 12"></polyline>
                                </svg>
                                Weekend demand spike expected
                            </div>
                        </div>

                        <div class="ai-order-item">
                            <div class="order-item-header">
                                <div class="item-name-section">
                                    <input type="checkbox" class="item-checkbox" checked>
                                    <div>
                                        <div class="item-name">Fresh Milk - 1L</div>
                                        <div class="item-sku">SKU: MILK-501</div>
                                    </div>
                                </div>
                                <div class="urgency-badge high">High Priority</div>
                            </div>
                            <div class="order-item-details">
                                <div class="detail-row">
                                    <span>Current Stock:</span>
                                    <span class="value-red">8 units</span>
                                </div>
                                <div class="detail-row">
                                    <span>AI Suggested Qty:</span>
                                    <input type="number" value="60" class="qty-input" id="qty3">
                                </div>
                                <div class="detail-row">
                                    <span>Unit Price:</span>
                                    <span>à§³95</span>
                                </div>
                                <div class="detail-row total">
                                    <span>Subtotal:</span>
                                    <span class="value-bold">à§³5,700</span>
                                </div>
                            </div>
                            <div class="ai-reason">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                                    <polyline points="17 6 23 6 23 12"></polyline>
                                </svg>
                                Critical low â€¢ Daily essential item
                            </div>
                        </div>
                    </div>

                    <div class="order-summary">
                        <div class="summary-row">
                            <span>Total Items:</span>
                            <span>3 products</span>
                        </div>
                        <div class="summary-row">
                            <span>Total Quantity:</span>
                            <span>150 units</span>
                        </div>
                        <div class="summary-row total">
                            <span>Estimated Total:</span>
                            <span class="value-large">à§³14,750</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" onclick="closeAIOrderModal()">Cancel</button>
                    <button class="btn-outline" onclick="editAIOrder()">Edit Order</button>
                    <button class="btn-primary" onclick="approveAIOrder()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Approve Order
                    </button>
                </div>
            </div>
        </div>

        <!-- Add Product Modal -->
        <div class="modal-overlay" id="addProductModal">
            <div class="modal-container">
                <div class="modal-header">
                    <h3>Add New Product</h3>
                    <button class="modal-close" onclick="closeAddProductModal()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Product Name</label>
                        <input type="text" class="form-input" placeholder="e.g., Coca Cola 250ml">
                    </div>
                    <div class="form-group">
                        <label>SKU</label>
                        <input type="text" class="form-input" placeholder="e.g., BEV-1001">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Category</label>
                            <select class="form-input">
                                <option>Beverages</option>
                                <option>Dairy Products</option>
                                <option>Snacks</option>
                                <option>Grocery</option>
                                <option>Cleaning</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Stock Quantity</label>
                            <input type="number" class="form-input" placeholder="100">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Unit Price (à§³)</label>
                            <input type="number" class="form-input" placeholder="50">
                        </div>
                        <div class="form-group">
                            <label>Reorder Level</label>
                            <input type="number" class="form-input" placeholder="20">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" onclick="closeAddProductModal()">Cancel</button>
                    <button class="btn-primary" onclick="saveProduct()">Save Product</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Product Data
        const products = [
            {
                id: 1,
                name: 'Coca Cola 250ml',
                sku: 'BEV-1001',
                category: 'beverages',
                stock: 45,
                reorderLevel: 30,
                price: 25,
                image: 'ðŸ¥¤',
                aiRestock: false
            },
            {
                id: 2,
                name: 'Detergent Powder - 1kg',
                sku: 'DET-1001',
                category: 'cleaning',
                stock: 12,
                reorderLevel: 25,
                price: 85,
                image: 'ðŸ§¼',
                aiRestock: true
            },
            {
                id: 3,
                name: 'Fresh Milk - 1L',
                sku: 'MILK-501',
                category: 'dairy',
                stock: 8,
                reorderLevel: 20,
                price: 95,
                image: 'ðŸ¥›',
                aiRestock: true
            },
            {
                id: 4,
                name: 'Potato Chips - Family Pack',
                sku: 'SNK-2045',
                category: 'snacks',
                stock: 28,
                reorderLevel: 35,
                price: 120,
                image: 'ðŸŸ',
                aiRestock: true
            },
            {
                id: 5,
                name: 'White Bread - 400g',
                sku: 'GRO-3021',
                category: 'grocery',
                stock: 55,
                reorderLevel: 30,
                price: 45,
                image: 'ðŸž',
                aiRestock: false
            },
            {
                id: 6,
                name: 'Yogurt Cup - 200ml',
                sku: 'DAIRY-402',
                category: 'dairy',
                stock: 0,
                reorderLevel: 25,
                price: 35,
                image: 'ðŸ¥›',
                aiRestock: false
            },
            {
                id: 7,
                name: 'Orange Juice - 1L',
                sku: 'BEV-1008',
                category: 'beverages',
                stock: 22,
                reorderLevel: 20,
                price: 150,
                image: 'ðŸ§ƒ',
                aiRestock: false
            },
            {
                id: 8,
                name: 'Rice - 5kg',
                sku: 'GRO-5001',
                category: 'grocery',
                stock: 35,
                reorderLevel: 15,
                price: 425,
                image: 'ðŸŒ¾',
                aiRestock: false
            }
        ];

        let selectedProducts = new Set();

        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => {
                const stockPercent = (product.stock / (product.reorderLevel * 2)) * 100;
                const stockStatus = product.stock === 0 ? 'out' : product.stock < product.reorderLevel ? 'low' : 'good';
                const stockColor = product.stock === 0 ? '#ef4444' : product.stock < product.reorderLevel ? '#f59e0b' : '#22c55e';
                
                return `
                    <div class="product-card ${stockStatus === 'low' || stockStatus === 'out' ? 'low-stock-highlight' : ''}" data-category="${product.category}" data-stock="${stockStatus}">
                        <div class="product-card-header">
                            <input type="checkbox" class="product-checkbox" onchange="toggleProductSelection(${product.id})" ${selectedProducts.has(product.id) ? 'checked' : ''}>
                            ${product.aiRestock ? '<div class="restock-tag"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"></path></svg> AI Restock</div>' : ''}
                            ${stockStatus === 'low' ? '<div class="low-stock-tag"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> Low Stock</div>' : ''}
                            ${stockStatus === 'out' ? '<div class="out-stock-tag"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg> Out of Stock</div>' : ''}
                        </div>
                        <div class="product-image">${product.image}</div>
                        <div class="product-info">
                            <div class="product-name">${product.name}</div>
                            <div class="product-sku">SKU: ${product.sku}</div>
                        </div>
                        <div class="stock-section">
                            <div class="stock-header">
                                <span class="stock-label">Stock: <strong>${product.stock} units</strong></span>
                                <span class="stock-price">à§³${product.price}</span>
                            </div>
                            <div class="stock-bar-container">
                                <div class="stock-bar" style="width: ${Math.min(stockPercent, 100)}%; background: ${stockColor};"></div>
                            </div>
                            <div class="reorder-info">Reorder at: ${product.reorderLevel} units</div>
                        </div>
                        <div class="product-actions">
                            <button class="product-btn-outline" onclick="editProduct(${product.id})">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                </svg>
                                Edit
                            </button>
                            <button class="product-btn-primary" onclick="quickReorder(${product.id})">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                                </svg>
                                Reorder
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function toggleProductSelection(id) {
            if (selectedProducts.has(id)) {
                selectedProducts.delete(id);
            } else {
                selectedProducts.add(id);
            }
            updateBulkActionBar();
        }

        function updateBulkActionBar() {
            const bar = document.getElementById('bulkActionBar');
            const count = document.getElementById('selectedCount');
            count.textContent = selectedProducts.size;
            
            if (selectedProducts.size > 0) {
                bar.classList.add('show');
            } else {
                bar.classList.remove('show');
            }
        }

        function clearSelection() {
            selectedProducts.clear();
            updateBulkActionBar();
            renderProducts();
        }

        function bulkOrder() {
            alert(`Creating bulk order for ${selectedProducts.size} products`);
        }

        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const category = document.getElementById('categoryFilter').value;
            const stockFilter = document.getElementById('stockFilter').value;
            
            const cards = document.querySelectorAll('.product-card');
            cards.forEach(card => {
                const matchesCategory = category === 'all' || card.dataset.category === category;
                const matchesStock = stockFilter === 'all' || card.dataset.stock === stockFilter;
                const matchesSearch = card.textContent.toLowerCase().includes(searchTerm);
                
                if (matchesCategory && matchesStock && matchesSearch) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function openAISuggestOrder() {
            document.getElementById('aiOrderModal').classList.add('show');
        }

        function closeAIOrderModal() {
            document.getElementById('aiOrderModal').classList.remove('show');
        }

        function approveAIOrder() {
            alert('AI Order approved! Processing order...');
            closeAIOrderModal();
        }

        function editAIOrder() {
            alert('Edit mode enabled. Modify quantities as needed.');
        }

        function openAddProductModal() {
            document.getElementById('addProductModal').classList.add('show');
        }

        function closeAddProductModal() {
            document.getElementById('addProductModal').classList.remove('show');
        }

        function saveProduct() {
            alert('New product added successfully!');
            closeAddProductModal();
        }

        function quickReorder(id) {
            const product = products.find(p => p.id === id);
            alert(`Quick reorder initiated for ${product.name}`);
        }

        function editProduct(id) {
            const product = products.find(p => p.id === id);
            alert(`Editing ${product.name}`);
        }

        // Sidebar toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            sidebar.classList.toggle('show');
            overlay.classList.toggle('show');
        }

        function showNotifications() {
            alert('Notifications: 3 new updates available');
        }

        function openProfile() {
            window.location.href = 'profile.html';
        }

        // Initialize
        renderProducts();
    </script>
</body>
</html>
